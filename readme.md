# Home Money Control (HMC)
Пока что это только софт для подгрузки содержимого чека по QR коду. Основано на этой [статье](https://leftjoin.ru/all/nalog-ru-client/)

В дальнейшем перерастет в прогу по подгрузке чеков с телефона по фото и предсказанию корзины и ее стоимости по накопленным данным.

## Установка
- Устанавливаем питон (протестировано на 3.9)
- `pip3 install requests`
- `pip3 install python-dotenv`
- Заполняем в ИНН и пароль в файле ".env" (Имя файла состоит из 4 символов, это норм). Если нет ИНН/пароля читай ниже
- Возможно нужно заменить токен из файла выше, но я этого не делал. Тут на свой страх и риск

## Нет ИНН/пароля
У меня получислоь это решить только поездкой в налоговую и постановкой на учет. Потратил в общей сложности там минут 20. Там нужен только паспорт и можно без предварительной регистрации.

## Использование
- В файле main.py вписать отсканированный QR код
- Запустить файл main.py. После первого запуска вернется скудный ответ без позиций в чеке. Это нормально
- Через минут 10 нужно еще раз запустить main.py, тогда в ответе будет полное содержимое чека
- Такой повтор видимо связан с API, которая сначала ищет чек в базах данных, а потом кеширует его. После второго обращения чек уже берется из кеша (но это все догадки)
